# Forward mode focused template.
# Merge with .env.example or copy values into your local .env.

BROKER=projectx
BROKER_BASE_URL=https://api.topstepx.com
BROKER_USERNAME=YOUR_USERNAME
BROKER_API_KEY=YOUR_API_KEY
ACCOUNT_ID=12345678
BROKER_USER_HUB_URL=https://rtc.topstepx.com/hubs/user
BROKER_MARKET_HUB_URL=https://rtc.topstepx.com/hubs/market

BOT_ENABLED=0
TRADING_ENVIRONMENT=DEMO
LIVE=false
FLATTEN_ON_START=false
TRADE_ON_START=false
EXIT_GRACE_SEC=5

SYMBOL=MNQ
SIDE=0
SIZE=1
SL_TICKS=40
TP_TICKS=80
LOOP_SEC=1

STRAT_ENTRY_MODE=tick
STRAT_REQUIRE_ORDERFLOW=false
STRAT_FORWARD_BAR_SEC=1
STRAT_TICK_POLL_IDLE_SEC=0.25
STRAT_TICK_POLL_ARMED_SEC=0.05
SUB_DEPTH=true
RUNTIME_PROFILE=normal
TELEMETRY_DIR=artifacts/telemetry
TELEMETRY_CANDIDATES_FILE=candidate_trades.jsonl
TELEMETRY_PERF_FILE=performance.jsonl
DEBUG_TICK_TRACE_EVERY_N=20

STRAT_ML_GATE_ENABLED=false
STRAT_ML_MODEL_PATH=artifacts/models/xgboost_model.json
STRAT_ML_MIN_PROBA=0.55
STRAT_ML_FAIL_OPEN=false

STRAT_ACCOUNT_MAX_DRAWDOWN=2000
ACCOUNT_MAX_DRAWDOWN_KILLSWITCH=2000
ACCOUNT_MAX_DRAWDOWN=2000
STRAT_MAX_TRADE_DRAWDOWN_FRACTION=0.15
STRAT_MIN_RRR=3.0
STRAT_MAX_RRR=10.0
STRAT_SL_NOISE_BUFFER_TICKS=2
STRAT_SL_MAX_TICKS=200
STRAT_TP_FRONT_RUN_TICKS=2
STRAT_ML_MIN_SIZE_FRACTION=0.35
STRAT_ML_SIZE_FLOOR_SCORE=0.55
STRAT_ML_SIZE_CEILING_SCORE=0.90
STRAT_ENABLE_EXHAUSTION_MARKET_EXIT=true
STRAT_DRAWDOWN_GUARD_ENABLED=true
STRAT_MAX_OPEN_POSITIONS=1
STRAT_MAX_OPEN_ORDERS_WHILE_FLAT=0
